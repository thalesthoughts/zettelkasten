/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var c=Object.prototype.hasOwnProperty;var w=(s,i)=>{for(var t in i)r(s,t,{get:i[t],enumerable:!0})},S=(s,i,t,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let e of g(i))!c.call(s,e)&&e!==t&&r(s,e,{get:()=>i[e],enumerable:!(n=p(i,e))||n.enumerable});return s};var u=s=>S(r({},"__esModule",{value:!0}),s);var b={};w(b,{default:()=>h});module.exports=u(b);var l=require("obsidian");var o=require("obsidian"),a={leftMinWidth:1400,rightMinWidth:1100,showSidebarsBack:!0},d=class extends o.PluginSettingTab{constructor(i,t){super(i,t),this.plugin=t}display(){let{containerEl:i}=this;i.empty(),i.createEl("h3",{text:"Hide Sidebars on Window Resize"}),new o.Setting(i).setName("Hide the left sidebar when the window is this narrow").setDesc("Increase this to hide the left sidebar sooner; decrease it to delay hiding").addText(t=>t.setPlaceholder(`Default: ${a.leftMinWidth}`).setValue(this.plugin.settings.leftMinWidth.toString()).onChange(async n=>{let e=parseInt(n);e?this.plugin.settings.leftMinWidth=e:this.plugin.settings.leftMinWidth=a.leftMinWidth,await this.plugin.saveSettings()})),new o.Setting(i).setName("Hide the right sidebar when the window is this narrow").setDesc("Increase this to hide the right sidebar sooner; decrease it to delay hiding").addText(t=>t.setPlaceholder(`Default: ${a.rightMinWidth}`).setValue(this.plugin.settings.rightMinWidth.toString()).onChange(async n=>{let e=parseInt(n);e?this.plugin.settings.rightMinWidth=e:this.plugin.settings.rightMinWidth=a.rightMinWidth,await this.plugin.saveSettings()})),new o.Setting(this.containerEl).setName("Show sidebars back when window becomes wide again").setDesc("Sidebars remain hidden if option is disabled").addToggle(t=>{t.setValue(this.plugin.settings.showSidebarsBack),t.onChange(n=>{this.plugin.settings.showSidebarsBack=n,this.plugin.saveSettings()})})}};var h=class extends l.Plugin{async onload(){console.log(`Loading ${this.manifest.name} plugin`),await this.loadSettings(),this.addSettingTab(new d(this.app,this)),this.app.workspace.onLayoutReady(()=>{this.previousWidth=window.innerWidth,this.toggleSidebars(),this.app.workspace.on("resize",()=>{this.toggleSidebars()})})}toggleSidebars(){let i=window.innerWidth;i<this.settings.leftMinWidth&&i<this.previousWidth&&!this.app.workspace.leftSplit.collapsed?this.app.workspace.leftSplit.collapse():i>this.settings.leftMinWidth&&i>this.previousWidth&&this.app.workspace.leftSplit.collapsed&&this.settings.showSidebarsBack&&!this.isInCompactMode()&&this.app.workspace.leftSplit.expand(),i<this.settings.rightMinWidth&&i<this.previousWidth&&!this.app.workspace.rightSplit.collapsed?this.app.workspace.rightSplit.collapse():i>this.settings.rightMinWidth&&i>this.previousWidth&&this.app.workspace.rightSplit.collapsed&&this.settings.showSidebarsBack&&!this.isInCompactMode()&&this.app.workspace.rightSplit.expand(),this.previousWidth=i}isInCompactMode(){var t;let i=this.app.plugins.getPlugin("zenmode");return(t=i==null?void 0:i.settings.zenMode)!=null?t:!1}async loadSettings(){this.settings=Object.assign({},a,await this.loadData())}async saveSettings(){await this.saveData(this.settings),this.toggleSidebars()}};

/* nosourcemap */